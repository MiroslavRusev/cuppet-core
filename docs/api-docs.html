<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Documentation - Cuppet Core</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        color: #333;
        background: #f8f9fa;
      }

      .navbar {
        background: #2c3e50;
        color: white;
        padding: 1rem 0;
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 1000;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .navbar .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .navbar .logo {
        font-size: 1.5rem;
        font-weight: bold;
        color: #3498db;
        text-decoration: none;
      }

      .navbar nav ul {
        display: flex;
        list-style: none;
        gap: 2rem;
      }

      .navbar nav a {
        color: white;
        text-decoration: none;
        transition: color 0.3s;
      }

      .navbar nav a:hover {
        color: #3498db;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .content {
        display: flex;
        margin-top: 70px;
        min-height: calc(100vh - 70px);
      }

      .sidebar {
        width: 300px;
        background: white;
        padding: 2rem;
        border-right: 1px solid #e9ecef;
        position: sticky;
        top: 70px;
        height: calc(100vh - 70px);
        overflow-y: auto;
      }

      .sidebar h2 {
        margin-bottom: 1rem;
        color: #2c3e50;
        font-size: 1.2rem;
      }

      .sidebar ul {
        list-style: none;
        margin-bottom: 2rem;
      }

      .sidebar ul li {
        margin-bottom: 0.5rem;
      }

      .sidebar ul li a {
        color: #666;
        text-decoration: none;
        padding: 0.5rem;
        display: block;
        border-radius: 4px;
        transition: all 0.3s;
      }

      .sidebar ul li a:hover,
      .sidebar ul li a.active {
        background: #3498db;
        color: white;
      }

      .main-content {
        flex: 1;
        padding: 2rem;
        background: white;
        margin-left: 1rem;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 3rem 2rem;
        text-align: center;
        margin-bottom: 2rem;
        border-radius: 8px;
      }

      .hero h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
      }

      .module-section {
        margin-bottom: 3rem;
        border-bottom: 2px solid #e9ecef;
        padding-bottom: 2rem;
      }

      .module-section:last-child {
        border-bottom: none;
      }

      .module-header {
        display: flex;
        align-items: center;
        margin-bottom: 1.5rem;
      }

      .module-icon {
        font-size: 2rem;
        margin-right: 1rem;
      }

      .module-title {
        font-size: 2rem;
        color: #2c3e50;
        margin: 0;
      }

      .function-card {
        background: #f8f9fa;
        border-left: 4px solid #3498db;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border-radius: 4px;
      }

      .function-signature {
        font-family: 'Courier New', monospace;
        background: #2c3e50;
        color: white;
        padding: 1rem;
        border-radius: 4px;
        margin-bottom: 1rem;
        overflow-x: auto;
      }

      .function-params {
        margin-bottom: 1rem;
      }

      .param {
        background: white;
        padding: 0.5rem;
        margin-bottom: 0.5rem;
        border-radius: 4px;
        border-left: 3px solid #27ae60;
      }

      .param-name {
        font-weight: bold;
        color: #27ae60;
      }

      .param-type {
        color: #e74c3c;
        font-style: italic;
      }

      .return-info {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        padding: 1rem;
        border-radius: 4px;
        margin-top: 1rem;
      }

      .example-code {
        background: #1e1e1e;
        border-radius: 4px;
        padding: 1rem;
        margin: 1rem 0;
        overflow-x: auto;
      }

      .badge {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: bold;
        margin-left: 0.5rem;
      }

      .badge-async {
        background: #e74c3c;
        color: white;
      }

      .badge-sync {
        background: #27ae60;
        color: white;
      }

      @media (max-width: 768px) {
        .content {
          flex-direction: column;
        }

        .sidebar {
          width: 100%;
          position: static;
          height: auto;
        }

        .main-content {
          margin-left: 0;
          margin-top: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="container">
        <a href="index.html" class="logo">üèÜ Cuppet Core</a>
        <nav>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="api-docs.html">API Docs</a></li>
            <li><a href="step-definitions.html">Step Definitions</a></li>
            <li><a href="configuration.html">Configuration</a></li>
            <li><a href="examples.html">Examples</a></li>
            <li><a href="https://github.com/MiroslavRusev/cuppet-core">GitHub</a></li>
          </ul>
        </nav>
      </div>
    </nav>

    <div class="content">
      <div class="sidebar">
        <h2>Core Modules</h2>
        <ul>
          <li><a href="#mainFunctions">üåê mainFunctions</a></li>
          <li><a href="#elementInteraction">üéØ elementInteraction</a></li>
          <li><a href="#dataStorage">üíæ dataStorage</a></li>
          <li><a href="#helperFunctions">üîß helperFunctions</a></li>
          <li><a href="#apiFunctions">üåç apiFunctions</a></li>
        </ul>

        <h2>Testing Modules</h2>
        <ul>
          <li><a href="#appiumTesting">üì± appiumTesting</a></li>
          <li><a href="#accessibilityTesting">‚ôø accessibilityTesting</a></li>
          <li><a href="#lighthouse">üöÄ lighthouse</a></li>
          <li><a href="#visualRegression">üëÅÔ∏è visualRegression</a></li>
        </ul>

        <h2>Managers</h2>
        <ul>
          <li><a href="#browserManager">üé≠ BrowserManager</a></li>
          <li><a href="#appiumManager">üì≤ AppiumManager</a></li>
        </ul>
      </div>

      <div class="main-content">
        <div class="hero">
          <h1>API Documentation</h1>
          <p>Complete reference for all Cuppet Core modules and functions</p>
        </div>

        <!-- Main Functions Module -->
        <div class="module-section" id="mainFunctions">
          <div class="module-header">
            <div class="module-icon">üåê</div>
            <h2 class="module-title">mainFunctions</h2>
          </div>
          <p>Core navigation and URL handling functions for web automation.</p>

          <div class="function-card">
            <h3>
              prepareUrl
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async prepareUrl(path)</div>
            <p>Prepare the URL using configuration to get the domain and generate full or relative paths.</p>
            <div class="function-params">
              <div class="param">
                <span class="param-name">path</span>
                <span class="param-type">(string)</span>
                - The path to prepare, can be relative or absolute URL
              </div>
            </div>
            <div class="return-info">
              <strong>Returns:</strong>
              Promise&lt;string&gt; - The prepared URL
            </div>
            <div class="example-code">
              <pre><code class="language-javascript">const url = await mainFunctions.prepareUrl('/about');
// Returns: 'https://example.com/about'</code></pre>
            </div>
          </div>

          <div class="function-card">
            <h3>
              extractPath
              <span class="badge badge-sync">SYNC</span>
            </h3>
            <div class="function-signature">extractPath(page, absolute = false)</div>
            <p>Extract current page URL - absolute or relative.</p>
            <div class="function-params">
              <div class="param">
                <span class="param-name">page</span>
                <span class="param-type">(Page)</span>
                - Puppeteer page object
              </div>
              <div class="param">
                <span class="param-name">absolute</span>
                <span class="param-type">(boolean)</span>
                - Set to true for full URL with domain
              </div>
            </div>
            <div class="return-info">
              <strong>Returns:</strong>
              string - The extracted path
            </div>
          </div>

          <div class="function-card">
            <h3>
              visitPath
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async visitPath(page, path)</div>
            <p>Navigate to a URL with automatic cookie consent handling if configured.</p>
            <div class="function-params">
              <div class="param">
                <span class="param-name">page</span>
                <span class="param-type">(Page)</span>
                - Puppeteer page object
              </div>
              <div class="param">
                <span class="param-name">path</span>
                <span class="param-type">(string)</span>
                - URL path to visit
              </div>
            </div>
          </div>

          <div class="function-card">
            <h3>
              validatePath
              <span class="badge badge-sync">SYNC</span>
            </h3>
            <div class="function-signature">validatePath(page, path)</div>
            <p>Validate that current page URL contains the expected path.</p>
          </div>

          <div class="function-card">
            <h3>
              setViewport
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async setViewport(page, device)</div>
            <p>Set viewport size for different devices (mobile, tablet, laptop, etc.).</p>
          </div>
        </div>

        <!-- Element Interaction Module -->
        <div class="module-section" id="elementInteraction">
          <div class="module-header">
            <div class="module-icon">üéØ</div>
            <h2 class="module-title">elementInteraction</h2>
          </div>
          <p>Comprehensive element interaction utilities for web automation.</p>

          <div class="function-card">
            <h3>
              click
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async click(page, selector, skip = false)</div>
            <p>Click on an element with optional skip functionality.</p>
            <div class="function-params">
              <div class="param">
                <span class="param-name">page</span>
                <span class="param-type">(Page)</span>
                - Puppeteer page object
              </div>
              <div class="param">
                <span class="param-name">selector</span>
                <span class="param-type">(string)</span>
                - CSS selector of element to click
              </div>
              <div class="param">
                <span class="param-name">skip</span>
                <span class="param-type">(boolean)</span>
                - Skip if element not found
              </div>
            </div>
          </div>

          <div class="function-card">
            <h3>
              fillField
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async fillField(page, selector, text, skip = false)</div>
            <p>Fill a form field with text.</p>
          </div>

          <div class="function-card">
            <h3>
              seeElement
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async seeElement(page, selector, isVisible = true, time = 3000)</div>
            <p>Check if an element is visible or hidden on the page.</p>
          </div>

          <div class="function-card">
            <h3>
              uploadFile
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async uploadFile(page, fileName, selector)</div>
            <p>Upload a file using file input element.</p>
          </div>

          <div class="function-card">
            <h3>
              selectOptionByValue
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async selectOptionByValue(page, selector, value, skip = false)</div>
            <p>Select dropdown option by value attribute.</p>
          </div>
        </div>

        <!-- Data Storage Module -->
        <div class="module-section" id="dataStorage">
          <div class="module-header">
            <div class="module-icon">üíæ</div>
            <h2 class="module-title">dataStorage</h2>
          </div>
          <p>Data storage and management utilities for test data persistence.</p>

          <div class="function-card">
            <h3>
              createFile
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async createFile()</div>
            <p>Create the JSON file for storing test data.</p>
          </div>

          <div class="function-card">
            <h3>
              getVariable
              <span class="badge badge-sync">SYNC</span>
            </h3>
            <div class="function-signature">getVariable(variable, stringify = false)</div>
            <p>Retrieve a stored variable value from JSON file.</p>
          </div>

          <div class="function-card">
            <h3>
              iStoreVariableWithValueToTheJsonFile
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async iStoreVariableWithValueToTheJsonFile(data, variable)</div>
            <p>Store a variable with its value to the JSON file.</p>
          </div>

          <div class="function-card">
            <h3>
              saveCurrentPath
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async saveCurrentPath(page)</div>
            <p>Save the current page path to JSON file.</p>
          </div>
        </div>

        <!-- Helper Functions Module -->
        <div class="module-section" id="helperFunctions">
          <div class="module-header">
            <div class="module-icon">üîß</div>
            <h2 class="module-title">helperFunctions</h2>
          </div>
          <p>Utility functions for common testing operations.</p>

          <div class="function-card">
            <h3>
              generateRandomString
              <span class="badge badge-sync">SYNC</span>
            </h3>
            <div class="function-signature">generateRandomString(length)</div>
            <p>Generate a random string with custom length.</p>
          </div>

          <div class="function-card">
            <h3>
              waitForAjax
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async waitForAjax(page)</div>
            <p>Wait until AJAX requests are completed.</p>
          </div>

          <div class="function-card">
            <h3>
              getRegion
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async getRegion(page, region)</div>
            <p>Get region element class name from configuration.</p>
          </div>
        </div>

        <!-- API Functions Module -->
        <div class="module-section" id="apiFunctions">
          <div class="module-header">
            <div class="module-icon">üåç</div>
            <h2 class="module-title">apiFunctions</h2>
          </div>
          <p>RESTful API testing capabilities with authentication support.</p>

          <div class="function-card">
            <h3>
              sendRequest
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async sendRequest(method, url = '/', headers = {}, data = {})</div>
            <p>Send HTTP request with method, URL, headers, and data.</p>
          </div>

          <div class="function-card">
            <h3>
              setBasicAuth
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async setBasicAuth()</div>
            <p>Set up basic authentication for API requests.</p>
          </div>
        </div>

        <!-- Appium Testing Module -->
        <div class="module-section" id="appiumTesting">
          <div class="module-header">
            <div class="module-icon">üì±</div>
            <h2 class="module-title">appiumTesting</h2>
          </div>
          <p>Mobile application testing with Appium integration.</p>

          <div class="function-card">
            <h3>
              clickElement
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async clickElement(driver, selector)</div>
            <p>Click on mobile element using Appium driver.</p>
          </div>

          <div class="function-card">
            <h3>
              scrollToElement
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async scrollToElement(driver, selector)</div>
            <p>Scroll to element on mobile device.</p>
          </div>
        </div>

        <!-- Accessibility Testing Module -->
        <div class="module-section" id="accessibilityTesting">
          <div class="module-header">
            <div class="module-icon">‚ôø</div>
            <h2 class="module-title">accessibilityTesting</h2>
          </div>
          <p>Web accessibility testing with Pa11y integration.</p>

          <div class="function-card">
            <h3>
              validateAccessibility
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async validateAccessibility(page, path, scenarioName)</div>
            <p>Run accessibility tests and generate HTML reports.</p>
          </div>
        </div>

        <!-- Lighthouse Module -->
        <div class="module-section" id="lighthouse">
          <div class="module-header">
            <div class="module-icon">üöÄ</div>
            <h2 class="module-title">lighthouse</h2>
          </div>
          <p>Performance testing with Google Lighthouse integration.</p>

          <div class="function-card">
            <h3>
              validatePageSpeed
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async validatePageSpeed(page, path, scenarioName)</div>
            <p>Run Lighthouse performance audit and generate reports.</p>
          </div>
        </div>

        <!-- Visual Regression Module -->
        <div class="module-section" id="visualRegression">
          <div class="module-header">
            <div class="module-icon">üëÅÔ∏è</div>
            <h2 class="module-title">visualRegression</h2>
          </div>
          <p>Visual regression testing with BackstopJS integration.</p>

          <div class="function-card">
            <h3>
              runBackstopSingleScenario
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async runBackstopSingleScenario(scenarioName, path, testCommand)</div>
            <p>Run BackstopJS visual regression test for –∞ single scenario.</p>
          </div>

          <div class="function-card">
            <h3>
              runBackstopMultiplePages
              <span class="badge badge-async">ASYNC</span>
            </h3>
            <div class="function-signature">async runBackstopMultiplePages(pages, testCommand)</div>
            <p>Run visual regression tests for multiple pages.</p>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
      // Add smooth scrolling and active link highlighting
      document.querySelectorAll('.sidebar a[href^="#"]').forEach((link) => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({ behavior: 'smooth' });

            // Update active link
            document.querySelectorAll('.sidebar a').forEach((a) => a.classList.remove('active'));
            this.classList.add('active');
          }
        });
      });

      // Highlight active section on scroll
      window.addEventListener('scroll', function () {
        const sections = document.querySelectorAll('.module-section');
        const scrollPos = window.scrollY + 100;

        sections.forEach((section) => {
          const top = section.offsetTop;
          const bottom = top + section.offsetHeight;
          const id = section.getAttribute('id');

          if (scrollPos >= top && scrollPos <= bottom) {
            document.querySelectorAll('.sidebar a').forEach((a) => a.classList.remove('active'));
            const activeLink = document.querySelector(`.sidebar a[href="#${id}"]`);
            if (activeLink) {
              activeLink.classList.add('active');
            }
          }
        });
      });
    </script>
  </body>
</html>
